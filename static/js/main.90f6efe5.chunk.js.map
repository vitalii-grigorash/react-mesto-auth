{"version":3,"sources":["images/svg/Spinner.svg","images/svg/Success.svg","images/svg/Error_Icon.svg","images/svg/logo.svg","components/MainForm.js","components/LoginAndRegisterForm.js","components/Login.js","components/Register.js","components/PopupWithForm.js","components/InfoTooltip.js","components/ProtectedRoute.js","components/AuthInfo.js","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","utils/Api.js","utils/utils.js","utils/Auth.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","MainForm","props","isPopup","formName","name","onSubmit","heading","submitButtonText","isLoading","title","children","disabled","submit","noConfirm","className","type","LoginAndRegisterForm","entranceText","entranceLinkText","path","useState","email","setEmail","password","setPassword","handleChange","evt","value","target","preventDefault","required","id","placeholder","onChange","to","Login","onLogin","Register","onRegister","PopupWithForm","isOpen","onClose","onClick","InfoTooltip","loggedIn","message","src","icon","alt","text","ProtectedRoute","Component","component","AuthInfo","signOut","Header","pathname","useLocation","linkText","linkPath","logo","CurrentUserContext","React","createContext","Card","handleClick","onCardClick","handleLikeClick","onCardLike","card","handleDeleteClick","onCardDelete","this","isOwn","owner","_id","context","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","length","contextType","Main","onEditAvatar","avatar","onEditProfile","about","onAddPlace","cards","map","key","Footer","EditProfilePopup","onUpdateUser","currentUser","useContext","setName","description","setDescription","useEffect","e","defaultValue","minLength","maxLength","pattern","EditAvatarPopup","onUpdateAvatar","inputAvatarRef","useRef","current","ref","AddPlacePopup","inputNameRef","inputLinkRef","ImagePopup","api","data","_baseUrl","baseUrl","_headers","headers","fetch","then","_returnErrorResponse","res","ok","json","Promise","reject","Error","status","formData","method","body","JSON","stringify","cardId","authorization","BASE_URL","getContent","token","err","catch","console","log","App","setLoggedIn","setCurrentUser","setCards","isInfoTooltipOpen","setInfoTooltipOpen","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","setLoading","history","useHistory","isImageOpen","selectedCard","setSelectedCard","spinner","setMessage","closeAllPopups","getUserInfo","userData","localStorage","getItem","jwt","Auth","push","getInitialCards","cardData","Provider","removeItem","exact","changeLikeCardStatus","newCard","newCards","c","removeCard","filter","setItem","successIcon","errorIcon","error","setUserInfo","finally","addCard","setAvatar","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.90f6efe5.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Spinner.ef19692c.svg\";","module.exports = __webpack_public_path__ + \"static/media/Success.e38b395c.svg\";","module.exports = __webpack_public_path__ + \"static/media/Error_Icon.4072126c.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo.855a8c98.svg\";","import React from 'react';\r\n\r\nfunction MainForm(props) {\r\n    const {\r\n        isPopup,\r\n        formName,\r\n        name,\r\n        onSubmit,\r\n        heading,\r\n        submitButtonText,\r\n        isLoading,\r\n        title,\r\n        children,\r\n        disabled,\r\n        submit,\r\n        noConfirm,\r\n    } = props;\r\n\r\n    return (\r\n        <form\r\n            className={isPopup ? `popup__forms popup__forms_${name}` : `${formName}`}\r\n            onSubmit={onSubmit}\r\n        >\r\n\r\n            <h2 className={isPopup ? `popup__heading` : `${heading}`}>{title}</h2>\r\n\r\n\r\n            {children}\r\n\r\n\r\n            <div className=\"popup__handlers\">\r\n\r\n                {isPopup ? (!noConfirm && \r\n                    (\r\n                        <button\r\n                            type='submit'\r\n                            className=\"popup__submit-button\"\r\n                            disabled={disabled}\r\n                        >       \r\n                            {isLoading ? `Сохранение...` : submit}\r\n                        </button>\r\n                    )) : (\r\n                        <button \r\n                            type=\"submit\" \r\n                            className=\"log-reg__submit-button\"\r\n                        >\r\n                            {submitButtonText}\r\n                        </button>\r\n                    )\r\n                }\r\n\r\n            </div>\r\n\r\n        </form>\r\n    );\r\n}\r\n\r\nexport default MainForm;","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport MainForm from './MainForm';\r\n\r\nfunction LoginAndRegisterForm({ title, onSubmit, submitButtonText, entranceText, entranceLinkText, path}) {\r\n\r\n    const [email, setEmail] = useState('');\r\n\r\n    const [password, setPassword] = useState('');\r\n\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n        if (!email && !password) return;\r\n        onSubmit(password, email);\r\n        setEmail('');\r\n        setPassword('');\r\n      }\r\n\r\n      function handleChange(evt) {\r\n        const { value } = evt.target;\r\n        evt.target.name === 'email' ? setEmail(value) : setPassword(value);\r\n      }\r\n  \r\n    return (\r\n\r\n        <div className=\"log-reg\">\r\n\r\n            <MainForm\r\n                isPopup={false}\r\n                onSubmit={handleSubmit}\r\n                formName='log-reg__form'\r\n                title={title}\r\n                heading='log-reg__heading'\r\n                submitButtonText={submitButtonText}\r\n            >\r\n                <input\r\n                    className=\"log-reg__input log-reg__input_email\"\r\n                    required \r\n                    id=\"email\" \r\n                    name=\"email\" \r\n                    type=\"email\" \r\n                    placeholder='Email'\r\n                    value={email}\r\n                    onChange={handleChange}\r\n                />\r\n                \r\n                <input \r\n                    className=\"log-reg__input log-reg__input_password\"\r\n                    required \r\n                    id=\"password\" \r\n                    name=\"password\" \r\n                    type=\"password\" \r\n                    placeholder='Пароль'\r\n                    value={password}\r\n                    onChange={handleChange}\r\n                />\r\n            </MainForm>\r\n\r\n            <div className=\"log-reg__switch-container\">\r\n\r\n                <p className=\"log-reg__switch-heading\">{entranceText}</p>\r\n\r\n                <Link to={path} className=\"log-reg__switch-link\">{entranceLinkText}</Link>\r\n\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n  }\r\n  \r\n  export default LoginAndRegisterForm;","import React from 'react';\r\nimport LoginAndRegisterForm from './LoginAndRegisterForm';\r\n\r\nfunction Login ({ onLogin }) {\r\n\r\n    function submitForm(password, email) {\r\n        onLogin(password, email);\r\n    }\r\n\r\n    return (\r\n        <LoginAndRegisterForm\r\n        title='Вход'\r\n        onSubmit={submitForm}\r\n        submitButtonText='Войти'\r\n        entranceText='Ещё не зарегистрированы?'\r\n        entranceLinkText='Регистрация'\r\n        path='/sign-up'\r\n      ></LoginAndRegisterForm >\r\n    )\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\nimport LoginAndRegisterForm from './LoginAndRegisterForm';\r\n\r\nfunction Register ({ onRegister }) {\r\n\r\n    function submitForm(password, email) {\r\n        onRegister(password, email);\r\n    }\r\n\r\n    return (\r\n        <LoginAndRegisterForm\r\n        title='Регистрация'\r\n        onSubmit={submitForm}\r\n        submitButtonText='Зарегистрироваться'\r\n        entranceText='Уже зарегистрированы?'\r\n        entranceLinkText='Войти'\r\n        path='/sign-in'\r\n      ></LoginAndRegisterForm >\r\n    )\r\n}\r\n  \r\nexport default Register;","import React from 'react';\r\nimport MainForm from './MainForm';\r\n\r\nfunction PopupWithForm (props) {\r\n\r\n    const { \r\n        onSubmit,\r\n        name,\r\n        isOpen,\r\n        onClose,\r\n        title,\r\n        children,\r\n        submit,\r\n        isLoading,\r\n        noConfirm,\r\n        disabled\r\n    } = props;\r\n\r\n    return (\r\n\r\n        <div\r\n            className={`popup popup_type_${name} ${isOpen && 'popup_opened'}`}\r\n        >\r\n\r\n            <div \r\n                className={`popup__container popup__container_type_${name}`}\r\n            >\r\n\r\n                <button\r\n                    type='button'\r\n                    className='popup__close-button'\r\n                    onClick={onClose}\r\n                ></button>\r\n\r\n                <MainForm\r\n                    isPopup={true}\r\n                    name={name}\r\n                    onSubmit={onSubmit}\r\n                    isLoading={isLoading}\r\n                    title={title}\r\n                    children={children}\r\n                    disabled={disabled}\r\n                    submit={submit}\r\n                    noConfirm={noConfirm}\r\n                >\r\n                </MainForm>\r\n\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n}\r\n  \r\nexport default PopupWithForm;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction InfoTooltip(props) {\r\n    const { isOpen, onClose, loggedIn, message } = props;\r\n  \r\n    return (\r\n      <PopupWithForm\r\n        name='info-tooltip'\r\n        noConfirm={true}\r\n        isOpen={isOpen}\r\n        onClose={onClose}\r\n        loggedIn={loggedIn}\r\n      >\r\n        <img src={message.icon} alt='Иконка авторизации' className='popup__icon' />\r\n        <p className='popup__under-icon-text'>{message.text}</p>\r\n  \r\n      </PopupWithForm >\r\n    );\r\n  }\r\n  \r\n  export default InfoTooltip;","import React from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\r\n  return (\r\n    <Route>\r\n      {\r\n        () => props.loggedIn === true ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\r\n      }\r\n    </Route>\r\n)}\r\n\r\nexport default ProtectedRoute;","import React from 'react';\r\n\r\nfunction AuthInfo({ email, signOut }) {\r\n  return (\r\n    <div className='header__email-signout-container'>\r\n      <span>{email}</span>\r\n      <button className='header__signout-button' onClick={signOut}>Выйти</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AuthInfo;","import React from 'react';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport logo from '../images/svg/logo.svg';\r\nimport AuthInfo from './AuthInfo';\r\n\r\nfunction Header({ loggedIn, email, signOut }) {\r\n\r\n    const { pathname } = useLocation();\r\n\r\n    const linkText = `${pathname === '/sign-in' ? 'Регистрация' : 'Войти'}`;\r\n\r\n    const linkPath = `${pathname === '/sign-in' ? '/sign-up' : '/sign-in'}`;\r\n\r\n    return (\r\n\r\n        <header className=\"header\">\r\n\r\n            <img className=\"header__logo\" src={logo} alt=\"Логотип Место\" />\r\n\r\n            {loggedIn ? (\r\n                <>\r\n                    <AuthInfo email={email} signOut={signOut} />\r\n\r\n                </>)\r\n\r\n                : (<Link to={linkPath} className=\"header__link\">{linkText}</Link>)\r\n            }\r\n\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nclass Card extends React.Component {\r\n\r\n    static contextType = CurrentUserContext;\r\n\r\n    handleClick = () => {\r\n        this.props.onCardClick(this.props);\r\n    };\r\n\r\n    handleLikeClick = () => {\r\n        this.props.onCardLike(this.props.card);\r\n    }\r\n\r\n    handleDeleteClick = () => {\r\n        this.props.onCardDelete(this.props.card);\r\n    }\r\n\r\n  render() {\r\n\r\n    const {card} = this.props;\r\n\r\n    const isOwn = card.owner._id === this.context._id;\r\n\r\n    const cardDeleteButtonClassName = (\r\n        `elements__trash-button ${isOwn ? 'elements__trash-button_active' : ''}`\r\n    );\r\n\r\n    const isLiked = card.likes.some(i => i._id === this.context._id);\r\n\r\n    const cardLikeButtonClassName = (\r\n        `elements__like-button ${isLiked ? 'elements__like-button_active' : ''}`\r\n    );\r\n\r\n    return (\r\n\r\n        <div className=\"elements__element\">\r\n\r\n            <img className=\"elements__image\" alt={card.name} src={card.link} onClick={this.handleClick} />\r\n\r\n            <button className={`${cardDeleteButtonClassName}`} onClick={this.handleDeleteClick}></button>\r\n\r\n            <div className=\"elements__group\">\r\n\r\n                <p className=\"elements__place\">{card.name}</p>\r\n\r\n                <div className=\"elements__like-container\">\r\n\r\n                    <button className={`${cardLikeButtonClassName}`} onClick={this.handleLikeClick}></button>\r\n\r\n                    <p className=\"elements__like-count\">{card.likes.length}</p>\r\n\r\n                </div>\r\n\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nclass Main extends React.Component {\r\n\r\n    static contextType = CurrentUserContext;\r\n\r\n    onCardClick = (card) => {\r\n        this.props.onCardClick(card);\r\n    };\r\n\r\n    render () {\r\n        return (\r\n\r\n            <main className=\"content\">\r\n\r\n                <section className=\"profile\">\r\n\r\n                    <div className=\"profile__avatar-container\">\r\n\r\n                        <div className=\"profile__overlay\" onClick={this.props.onEditAvatar}></div>\r\n                        <img className=\"profile__avatar\" src={this.context.avatar} alt=\"Аватар\" />\r\n\r\n                    </div>\r\n\r\n                    <div className=\"profile__info\">\r\n\r\n                        <div className=\"profile__heading-info\">\r\n\r\n                            <p className=\"profile__name\">{this.context.name}</p>\r\n                            <button className=\"profile__edit-button\" onClick={this.props.onEditProfile}></button>\r\n\r\n                        </div>\r\n\r\n                        <p className=\"profile__job\">{this.context.about}</p>\r\n\r\n                    </div>\r\n\r\n                    <button className=\"profile__add-button\" onClick={this.props.onAddPlace}></button>\r\n\r\n                </section>\r\n\r\n                <section className=\"elements\">\r\n                    {this.props.cards.map((card) => (\r\n                        <Card \r\n                            key={card._id} \r\n                            card={card} \r\n                            onCardClick={this.onCardClick} \r\n                            onCardLike={this.props.onCardLike} \r\n                            onCardDelete={this.props.onCardDelete}\r\n                        />\r\n                    ))}\r\n                </section>\r\n\r\n            </main>\r\n        );\r\n    }\r\n}\r\n  \r\nexport default Main;","import React from 'react';\r\n\r\nfunction Footer() {\r\n    return (\r\n\r\n        <footer className=\"footer\">\r\n\r\n            <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\r\n\r\n        </footer>\r\n\r\n    );\r\n}\r\n  \r\nexport default Footer;","import React, { useState } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup (props) {\r\n\r\n    const { isOpen, onClose, onUpdateUser, isLoading } = props;\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    const [name, setName] = useState('');\r\n    const [description, setDescription] = useState('');\r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser]);\r\n\r\n    function handleNameChange(evt) {\r\n        setName(evt.target.value);\r\n    }\r\n\r\n    function handleDescriptionChange(evt) {\r\n        setDescription(evt.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onUpdateUser({\r\n          name: name,\r\n          about: description,\r\n        });\r\n    }\r\n\r\n    return (\r\n\r\n        <PopupWithForm\r\n            name='edit-profile'\r\n            title='Редактировать профиль'\r\n            submit='Сохранить'\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            isLoading={isLoading}\r\n        >\r\n        \r\n            <input\r\n            type=\"text\"\r\n            className=\"popup__input popup__input_name\"\r\n            id=\"name-input\"\r\n            name=\"name\"\r\n            defaultValue={name}\r\n            placeholder='Имя'\r\n            minLength=\"2\"\r\n            maxLength=\"40\"\r\n            pattern=\"[A-Za-zа-яёА-ЯЁ -]{1,}\"\r\n            required\r\n            onChange={handleNameChange}\r\n            />\r\n            <span id=\"name-input-error\" className=\"popup__input_name-error\"></span>\r\n        \r\n        \r\n            <input\r\n            type=\"text\"\r\n            className=\"popup__input popup__input_job\"\r\n            id=\"job-input\"\r\n            name=\"job\"\r\n            defaultValue={description} \r\n            placeholder='О себе'\r\n            minLength=\"2\"\r\n            maxLength=\"200\"\r\n            required\r\n            onChange={handleDescriptionChange}\r\n            />\r\n            <span id=\"job-input-error\" className=\"popup__input_name-error\"></span>\r\n        \r\n        </PopupWithForm>\r\n    )\r\n\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup (props) {\r\n\r\n    const { isOpen, onClose, onUpdateAvatar, isLoading } = props;\r\n\r\n    const inputAvatarRef = React.useRef('');\r\n\r\n    React.useEffect(() => {\r\n        inputAvatarRef.current.value = '';\r\n    }, [isOpen]);\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n      \r\n        onUpdateAvatar({\r\n            avatar: inputAvatarRef.current.value \r\n        });\r\n      }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name='avatar-edit'\r\n            title='Обновить аватар'\r\n            submit='Сохранить'\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            isLoading={isLoading}\r\n        >\r\n            <input\r\n                type=\"url\"\r\n                className=\"popup__input popup__input_avatar-edit\"\r\n                id=\"avatar-edit-input\"\r\n                name=\"link\"\r\n                placeholder=\"Ссылка на аватар\"\r\n                required\r\n                ref={inputAvatarRef}\r\n            />\r\n            <span id=\"avatar-edit-input-error\" className=\"popup__input_name-error\"></span>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup (props) {\r\n\r\n    const { isOpen, onClose, onAddPlace, isLoading } = props;\r\n\r\n    const inputNameRef = React.useRef('');\r\n    const inputLinkRef = React.useRef('');\r\n\r\n    React.useEffect(() => {\r\n        inputNameRef.current.value = '';\r\n        inputLinkRef.current.value = '';\r\n    }, [isOpen]);\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onAddPlace({\r\n          name: inputNameRef.current.value,\r\n          link: inputLinkRef.current.value\r\n        });\r\n    }\r\n    \r\n    return (\r\n        <PopupWithForm\r\n            name='new-card'\r\n            title='Новое место'\r\n            submit='Сохранить'\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            isLoading={isLoading}\r\n        >\r\n            <input\r\n                type=\"text\"\r\n                className=\"popup__input popup__input_card-name\"\r\n                id=\"card-name-input\"\r\n                name=\"name\"\r\n                placeholder=\"Название\"\r\n                minLength=\"1\"\r\n                maxLength=\"30\"\r\n                required\r\n                ref={inputNameRef}\r\n            />\r\n            <span id=\"card-name-input-error\" className=\"popup__input_name-error\"></span>\r\n        \r\n            <input\r\n                type=\"url\"\r\n                className=\"popup__input popup__input_card-link\"\r\n                id=\"card-link-input\"\r\n                name=\"link\"\r\n                placeholder=\"Ссылка на картинку\"\r\n                required\r\n                ref={inputLinkRef}\r\n            />\r\n            <span id=\"card-link-input-error\" className=\"popup__input_name-error\"></span>\r\n        \r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\n\r\nclass ImagePopup extends React.Component {\r\n    render() {\r\n\r\n        return (\r\n\r\n            <div className={`popup popup_type_card-open ${this.props.isOpen && 'popup_opened'}`}>\r\n\r\n                <div className=\"popup__container popup__container_card-open\">\r\n\r\n                    <button className=\"popup__close-button\" type=\"button\" onClick={this.props.onClose}></button>\r\n\r\n                    <img className=\"popup__photo\" alt={this.props.name} src={this.props.link} />\r\n\r\n                    <p className=\"popup__description\">{this.props.name}</p>\r\n\r\n                </div>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n  \r\nexport default ImagePopup;","import {apiOptions} from './utils';\r\n\r\nexport class Api {\r\n    constructor(data) {\r\n        this._baseUrl = data.baseUrl;\r\n        this._headers = data.headers;\r\n    }\r\n\r\n    getInitialCards() {\r\n        return fetch(`${this._baseUrl}/cards`, {\r\n            headers: this._headers\r\n        })\r\n        .then(this._returnErrorResponse)\r\n    }\r\n\r\n    _returnErrorResponse(res) {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n    }\r\n\r\n    getUserInfo () {\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n            headers: this._headers\r\n        })\r\n        .then(this._returnErrorResponse)\r\n    }\r\n\r\n    setUserInfo (formData) {\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: formData.name,\r\n                about: formData.about,\r\n            })\r\n        })\r\n        .then(this._returnErrorResponse)\r\n    }    \r\n\r\n    setAvatar (formData) {\r\n        return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                avatar: formData.avatar\r\n            })\r\n        })\r\n        .then(this._returnErrorResponse)\r\n    }\r\n\r\n    addCard (formData) {\r\n        return fetch(`${this._baseUrl}/cards`, {\r\n            method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: formData.name,\r\n                link: formData.link,\r\n            })\r\n        })\r\n        .then(this._returnErrorResponse)\r\n    }\r\n\r\n    removeCard (cardId, isOwn) {\r\n        if (!isOwn) {\r\n            return fetch(`${this._baseUrl}/cards/${cardId}`, {\r\n                method: 'DELETE',\r\n                headers: this._headers\r\n            })\r\n            .then(this._returnErrorResponse)\r\n        }\r\n    }\r\n\r\n    changeLikeCardStatus (cardId, isLiked) {\r\n        if (isLiked) {\r\n            return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n                method: 'PUT',\r\n                headers: this._headers\r\n            })  \r\n            .then(this._returnErrorResponse) \r\n        } else {\r\n            return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n                method: 'DELETE',\r\n                headers: this._headers\r\n            })\r\n            .then(this._returnErrorResponse)    \r\n        }\r\n    }\r\n}\r\n\r\nexport const api = new Api(apiOptions);","export const apiOptions = {\r\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-12',\r\n    headers: {\r\n      authorization: '23e3d2ae-f405-4f8e-a432-7a3c52096726',\r\n      'Content-Type': 'application/json'\r\n    }\r\n};","export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nexport const register = (password, email) => fetch(`${BASE_URL}/signup`, {\r\n  method: 'POST',\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n  body: JSON.stringify({ password, email }),\r\n})\r\n  .then((res) => {\r\n    if (!res.ok) {\r\n      return res.json()\r\n        .then((err) => {\r\n          if (err.error) {\r\n            throw new Error(err.error);\r\n          } else {\r\n            throw new Error(err.message);\r\n          }\r\n        });\r\n    }\r\n    return res.json();\r\n  });\r\n\r\nexport const authorize = (password, email) => fetch(`${BASE_URL}/signin`, {\r\n  method: 'POST',\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n  body: JSON.stringify({ password, email }),\r\n})\r\n  .then((res) => {\r\n    if (res.status === 400) {\r\n      throw new Error('Не передано одно из полей');\r\n    }\r\n    else if (res.status === 401) {\r\n      throw new Error('Пользователь с таким email не найден');\r\n    }\r\n    return res.json();\r\n  })\r\n  .then((data) => {\r\n    if (data.token) {\r\n      localStorage.setItem('jwt', data.token);\r\n      return data.token;\r\n    }\r\n  });\r\n\r\nexport const getContent = (token) => fetch(`${BASE_URL}/users/me`, {\r\n  method: 'GET',\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n    'Authorization': `Bearer ${token}`,\r\n  },\r\n})\r\n  .then((res) => {\r\n    if (!res.ok) {\r\n      return res.json()\r\n        .then((err) => {\r\n          throw new Error(err.message);\r\n        });\r\n    }\r\n    return res.json()\r\n  })\r\n  .then((data) => data)\r\n  .catch(err => console.log(err.message));","import React, { useState } from 'react';\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\nimport Login from './Login';\nimport Register from './Register';\nimport InfoTooltip from './InfoTooltip';\nimport ProtectedRoute from './ProtectedRoute.js';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ImagePopup from './ImagePopup';\nimport { api } from '../utils/Api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport successIcon from '../images/svg/Success.svg';\nimport errorIcon from '../images/svg/Error_Icon.svg';\nimport spinner from '../images/svg/Spinner.svg';\nimport * as Auth from '../utils/Auth';\n\nfunction App() {\n\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n  const [email, setEmail] = useState('');\n  const [isInfoTooltipOpen, setInfoTooltipOpen] = useState(false);\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\n  const [isLoading, setLoading] = useState();\n  const history = useHistory();\n  const [selectedCard, setSelectedCard] = useState({\n    isImageOpen: false,\n    link: '',\n    name: '',\n  });\n  const [message, setMessage] = useState({\n    icon: spinner,\n    text: 'Загрузка...'\n  });\n\n  React.useEffect(() => {\n    api.getUserInfo()\n      .then((userData) => {\n        setCurrentUser(userData);\n      })\n      .catch((err) => console.log(`Ошибка: ${err}`));\n  }, []);\n\n  React.useEffect(() => {\n    if (localStorage.getItem('jwt')) {\n      const jwt = localStorage.getItem('jwt');\n      Auth.getContent(jwt)\n        .then((res) => {\n          setLoggedIn(true);\n          setEmail(res.data.email);\n          history.push('/');\n        })\n        .catch(err => console.log(err));\n    }\n  }, [history]);\n\n  React.useEffect(() => {\n    api\n      .getInitialCards()\n      .then((cardData) => {\n        setCards(cardData);\n      })\n      .catch((err) => console.log(`Ошибка при загрузке карточек: ${err}`));\n  }, []);\n\n  function handleRegister(password, email) {\n    setMessage({ icon: spinner, text: 'Загрузка...' });\n    Auth.register(password, email)\n      .then(() => {\n        history.push('/sign-in')\n        setMessage({ icon: successIcon, text: 'Вы успешно зарегистрировались!' });\n      })\n      .catch((err) => setMessage({ icon: errorIcon, text: err.message }));\n    setInfoTooltipOpen(true);\n  }\n\n  function handleLogin(password, email) {\n    setMessage({ icon: spinner, text: 'Загрузка...' });\n    Auth.authorize(password, email)\n      .then((data) => {\n        Auth.getContent(data)\n          .then((res) => {\n            setEmail(res.data.email);\n          })\n          .catch(err => console.log(err));\n        setLoggedIn(true);\n        history.push('/');\n        setMessage({ icon: successIcon, text: 'Авторизация прошла успешно!' });\n      })\n      .catch((err) => setMessage({ icon: errorIcon, text: err.message }))\n    setInfoTooltipOpen(true);\n  }\n\n  function handleSignOut() {\n    setLoggedIn(false);\n    localStorage.removeItem('jwt');\n    setEmail('');\n    history.push('/sign-in');\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        setCards(newCards);\n      })\n      .catch((err) => console.log(`Ошибка: ${err}`));\n  }\n\n  function handleCardDelete(card) {\n    const isOwn = card.owner._id === currentUser._id;\n    api.removeCard(card._id, !isOwn)\n      .then((newCard) => {\n        const newCards = cards.filter((c) => c._id === card._id ? !newCard : c);\n        setCards(newCards);\n      })\n      .catch((err) => console.log(`Ошибка: ${err}`));\n  }\n\n  function handleCardClick(cardData) {\n    const { link, name } = cardData.card;\n    setSelectedCard({ isImageOpen: true, link: link, name: name });\n  }\n\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true);\n  }\n\n  function handleUpdateUser(userData) {\n    setLoading(true);\n    api.setUserInfo(userData)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(`Ошибка: ${err}`))\n      .finally(() => setLoading(false));\n  }\n\n  function handleUpdateAvatar(userData) {\n    setLoading(true);\n    api.setAvatar(userData)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(`Ошибка: ${err}`))\n      .finally(() => setLoading(false));\n  }\n\n  function handleAddPlaceSubmit(userData) {\n    setLoading(true);\n    api.addCard(userData)\n      .then((res) => {\n        setCards([...cards, res]);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(`Ошибка: ${err}`))\n      .finally(() => setLoading(false));\n  }\n\n  function closeAllPopups() {\n    setEditProfilePopupOpen(false);\n    setEditAvatarPopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setInfoTooltipOpen(false);\n    setSelectedCard({\n      isImageOpen: false,\n      link: '',\n      name: ''\n    });\n  }\n\n  return (\n\n    <CurrentUserContext.Provider value={currentUser}>\n\n      <div className=\"page\">\n\n        <Header \n          email={email}\n          loggedIn={loggedIn}\n          signOut={handleSignOut}\n        />\n\n        <Switch>\n          <ProtectedRoute exact path=\"/\" \n            loggedIn={loggedIn} \n            component={Main}\n            onCardClick={handleCardClick}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            cards={cards}\n          />\n          <Route path='/sign-in'>\n            <Login onLogin={handleLogin} />\n          </Route>\n          <Route path='/sign-up'>\n            <Register onRegister={handleRegister} />\n          </Route>\n          <Route>\n            {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\n          </Route>\n        </Switch>\n\n        <Footer />\n\n        <InfoTooltip\n          isOpen={isInfoTooltipOpen}\n          onClose={closeAllPopups}\n          loggedIn={loggedIn}\n          message={message}\n        />\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n          isLoading={isLoading}\n        />\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n          isLoading={isLoading}\n        />\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n          isLoading={isLoading}\n        />\n\n        <PopupWithForm\n\n          name=\"card-remove\"\n          title=\"Вы уверены?\"\n          submit=\"Да\"\n          onClose={closeAllPopups}\n\n        ></PopupWithForm>\n\n        <ImagePopup\n          name={selectedCard.name}\n          link={selectedCard.link}\n          onClose={closeAllPopups}\n          isOpen={selectedCard.isImageOpen}\n        />\n\n      </div>\n\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter> \n      <App />\n    </BrowserRouter> \n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}